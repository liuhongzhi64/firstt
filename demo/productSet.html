<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>商品系列</title>
    <link rel="stylesheet" href="./dist/idangerous.swiper.css">
    <script src="./jquery-2.1.1.min.js"></script>
    <script src="./dist/idangerous.swiper.js"></script>
    <link rel="stylesheet" href="./productSet.css">
    <link rel="stylesheet" href="../demo/dist/photoswipe.css">
    <link rel="stylesheet" href="../demo/dist/default-skin.css">
    <!-- <link rel="stylesheet" href="../demo/dist/side.css"> -->
    <script src="../demo/dist/photoswipe-ui-default.js"></script>
    <script src="../demo/dist/photoswipe.min.js"></script>
</head>

<body>
    <!-- 顶部搜索和全部系列 -->
    <div class="topSearch">
        <div class="all">全部</div>
        <div class="search"> </div>
    </div>
    <!-- 轮播 -->
    <div class="carousel">
        <div class="top">
            <div class="swiper-container">
                <div class="swiper-wrapper demo-gallery" data-pswp-uid="1">
                    <a class="swiper-slide" href="https://farm4.staticflickr.com/3894/15008518202_c265dfa55f_h.jpg"
                        data-size="1600x1600"
                        data-med="https://farm4.staticflickr.com/3894/15008518202_c265dfa55f_h.jpg"
                        data-med-size="1024x1024" data-author="Folkert Gorter" class="demo-gallery__img--main">
                        <img src="https://farm4.staticflickr.com/3894/15008518202_c265dfa55f_h.jpg" alt="">
                        <figure></figure>
                    </a>
                    <a class="swiper-slide"
                        href="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg"
                        data-size="1600x1600"
                        data-med="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg"
                        data-med-size="1024x1024" data-author="Folkert Gorter" class="demo-gallery__img--main">
                        <img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                        <figure></figure>
                    </a>
                    <a class="swiper-slide"
                        href="http://img2.lixiantuce.com/yjj/1828/pdt/e0afaacee5bd8437c43566fe7a98aa4f.jpg"
                        data-size="1600x1600"
                        data-med="http://img2.lixiantuce.com/yjj/1828/pdt/e0afaacee5bd8437c43566fe7a98aa4f.jpg"
                        data-med-size="1024x1024" data-author="Folkert Gorter" class="demo-gallery__img--main">
                        <img src="http://img2.lixiantuce.com/yjj/1828/pdt/e0afaacee5bd8437c43566fe7a98aa4f.jpg" alt="">
                        <figure></figure>
                    </a>
                </div>
            </div>
            <div class="pagination"></div>
        </div>
    </div>
    <!-- 系列选项 -->
    <div class="setList">
        <div class="set">
            <div>CK</div>
            <div>系列</div>
        </div>
        <div class="set">
            <div>软床</div>
            <div>系列</div>
        </div>
        <div class="set">
            <div>沙发</div>
            <div>系列</div>
        </div>
        <div class="set">
            <div>床垫</div>
            <div>系列</div>
        </div>
    </div>
    <!-- 三张非意沙发的图片 -->
    <div class="veryIdeaSoFo">
        <div class="tops">•<span>非意沙发</span>•</div>
        <div class="top">
            <div class="swiper-container swiper-containers demo-gallery" style="background-color: #fff;">
                <div class="swiper-wrapper" data-pswp-uid="1">
                    <a class="swiper-slide"
                        href="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg"
                        data-size="1600x1600"
                        data-med="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg"
                        data-med-size="1024x1024" data-author="Folkert Gorter" class="demo-gallery__img--main">
                        <img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                        <span class="productsetName">K1968</span>
                        <figure></figure>
                    </a>
                    <a class="swiper-slide  swiperImgs"
                        href="https://farm4.staticflickr.com/3894/15008518202_c265dfa55f_h.jpg" data-size="1600x1600"
                        data-med="https://farm4.staticflickr.com/3894/15008518202_c265dfa55f_h.jpg"
                        data-med-size="1024x1024" data-author="Folkert Gorter" class="demo-gallery__img--main">
                        <img src="https://farm4.staticflickr.com/3894/15008518202_c265dfa55f_h.jpg" alt="">
                        <span class="productsetName">K1968</span>
                        <figure></figure>
                    </a>
                    <a class="swiper-slide  swiperImgss"
                        href="http://img2.lixiantuce.com/yjj/1828/pdt/e0afaacee5bd8437c43566fe7a98aa4f.jpg" data-size="1600x1600"
                        data-med="http://img2.lixiantuce.com/yjj/1828/pdt/e0afaacee5bd8437c43566fe7a98aa4f.jpg"
                        data-med-size="1024x1024" data-author="Folkert Gorter" class="demo-gallery__img--main">
                        <img src="http://img2.lixiantuce.com/yjj/1828/pdt/e0afaacee5bd8437c43566fe7a98aa4f.jpg" alt="">
                        <span class="productsetName">K1968</span>
                        <figure></figure>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- 非意软床 -->
    <div class="veryIdeaBed">
        <div class="tops">•<span>非意软床</span>•</div>
        <div class="veryIdeaBedImgs">
            <div class="oneImg">
                <img src="../img/12,0.000.png" alt="">
            </div>
            <div class="veryIdeaBedTwoImgs">
                <div><img src="./img/0,0.000.png" alt=""></div>
                <div class="twoImg"><img
                        src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt=""></div>
            </div>
        </div>
    </div>
    <!-- Ck系列 -->
    <div class="CkSet">
        <div class="tops">•<span>Ck系列</span>•</div>
        <div class="List">
            <div class="ImgList">
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg"
                        alt="">TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
            </div>
        </div>
    </div>
    <div class="seeAll">查看全部>></div>
    </div>
    </div>
    <!-- 软床系列 -->
    <div class="bedSet">
        <div class="tops">•<span>软床系列</span>•</div>
        <div class="List">
            <div class="ImgList">
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
            </div>
        </div>
    </div>
    <div class="seeAll">查看全部>></div>
    </div>
    </div>
    <!-- 沙发系列 -->
    <div class="sofoSet">
        <div class="tops">•<span>沙发系列</span>•</div>
        <div class="List">
            <div class="ImgList">
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
            </div>
        </div>
    </div>
    <div class="seeAll">查看全部>></div>
    </div>
    </div>
    <!-- 床垫系列 -->
    <div class="mattressSet">
        <div class="tops">•<span>软床系列</span>•</div>
        <div class="List">
            <div class="ImgList">
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
                <div><img src="http://img2.lixiantuce.com/yjj/1828/pdt/e738e4aed3fb9a510d7f7a48a18a8c09.jpg" alt="">
                    TOP166
                </div>
            </div>
        </div>
    </div>
    <div class="seeAll">查看全部>></div>
    </div>
    </div>
    <div class="footer">
        -已经到底啦-
    </div>


    <div id="gallery" class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="pswp__bg"></div>

        <div class="pswp__scroll-wrap">

            <div class="pswp__container" style="transform: translate3d(0px, 0px, 0px);">
                <div class="pswp__item" style="display: block; transform: translate3d(-1049px, 0px, 0px);">
                    <div class="pswp__zoom-wrap" style="transform: translate3d(0px, 156px, 0px) scale(1);"><img
                            class="pswp__img" src="https://farm6.staticflickr.com/5584/14985868676_b51baa4071_h.jpg"
                            style="opacity: 1; width: 937px; height: 625px;"></div>
                </div>
                <div class="pswp__item" style="transform: translate3d(0px, 0px, 0px);">
                    <div class="pswp__zoom-wrap" style="transform: translate3d(533.5px, 163px, 0px) scale(0.182497);">
                        <img class="pswp__img pswp__img--placeholder"
                            src="https://farm4.staticflickr.com/3920/15008465772_383e697089_m.jpg"
                            style="width: 937px; height: 625px; display: none;"><img class="pswp__img"
                            src="https://farm4.staticflickr.com/3920/15008465772_d50c8f0531_h.jpg"
                            style="display: block; width: 937px; height: 625px;"></div>
                </div>
                <div class="pswp__item" style="display: block; transform: translate3d(1049px, 0px, 0px);">
                    <div class="pswp__zoom-wrap" style="transform: translate3d(0px, 0px, 0px) scale(1);"><img
                            class="pswp__img" src="https://farm4.staticflickr.com/3894/15008518202_c265dfa55f_h.jpg"
                            style="opacity: 1; width: 937px; height: 937px;"></div>
                </div>
            </div>

            <div class="pswp__ui pswp__ui--hidden">

                <div class="pswp__top-bar">

                    <div class="pswp__counter">
                        <font style="vertical-align: inherit;">
                            <font style="vertical-align: inherit;">5/5</font>
                        </font>
                    </div>
                    <!-- 
                        <button class="pswp__button pswp__button--close" title="关闭（Esc）"></button>
    
                        <button class="pswp__button pswp__button--share pswp__element--disabled" title="分享"></button>
    
                        <button class="pswp__button pswp__button--fs pswp__element--disabled" title="切换全屏"></button>
    
                        <button class="pswp__button pswp__button--zoom" title="放大/缩小"></button> -->

                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                            <div class="pswp__preloader__cut">
                                <div class="pswp__preloader__donut"></div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- <div class="pswp__loading-indicator"><div class="pswp__loading-indicator__line"></div></div> -->

                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap pswp__element--disabled">
                    <div class="pswp__share-tooltip">
                        <!-- <a href="#" class="pswp__share--facebook"></a>
                                    <a href="#" class="pswp__share--twitter"></a>
                                    <a href="#" class="pswp__share--pinterest"></a>
                                    <a href="#" download class="pswp__share--download"></a> -->
                    </div>
                </div>
                <!-- <button class="pswp__button pswp__button--arrow--left" title="上一个（向左箭头）"> </button></button>
                        <button class="pswp__button pswp__button--arrow--right" title="下一个（向右箭头）"></button> -->
                <div class="pswp__caption pswp__element--disabled">
                    <div class="pswp__caption__center">
                    </div>
                </div>
            </div>

        </div>


    </div>
</body>
<script>
    var mySwiper = new Swiper('.swiper-container', {
        autoplay: 2000, //可选选项，自动滑动
        speed: 2000, //过度时间
        // loop: true, //可选选项，开启循环
        // autoplayDisableOnInteraction : false,//用户操作swiper之后，是否禁止autoplay。
        autoplayDisableOnInteraction: false, //设置为false，用户操作swiper之后自动切换不会停止
        calculateHeight: true,
        pagination: '.pagination', //分页按钮
        paginationClickable: true, //分页器
        slideElement: 'a', //设置slide的html标签
        onSlideChangeEnd: function (swiper) {
            if (swiper.activeIndex == 2) {
                swiper.swipeTo(0, 1000,
                false); // 第一个参数是指定切换到某一页的索引；第二个参数是切换速度；第三个参数是布尔值，表示是否要触发onSlideChange回调函数；
            }

        }
    })
    var mySwiper = new Swiper('.swiper-containers', {
        calculateHeight: true,
        slidesPerView: 1.15,
        speed: 800,
        autoHeight: true,
        slideElement: 'a',
        offsetPxAfter: 70,
    })
</script>

<script type="text/javascript">
    (function () {

        var initPhotoSwipeFromDOM = function (gallerySelector) {

            var parseThumbnailElements = function (el) {
                var thumbElements = el.childNodes,
                    numNodes = thumbElements.length,
                    items = [],
                    el,
                    childElements,
                    thumbnailEl,
                    size,
                    item;

                for (var i = 0; i < numNodes; i++) {
                    el = thumbElements[i];
                    if (el.nodeType !== 1) {
                        continue;
                    }
                    childElements = el.children;
                    size = el.getAttribute('data-size').split('x');
                    item = {
                        src: el.getAttribute('href'),
                        w: parseInt(size[0], 10),
                        h: parseInt(size[1], 10),
                        author: el.getAttribute('data-author')
                    };
                    item.el = el;
                    if (childElements.length > 0) {
                        item.msrc = childElements[0].getAttribute('src');
                        if (childElements.length > 1) {
                            item.title = childElements[1].innerHTML;
                        }
                    }
                    var mediumSrc = el.getAttribute('data-med');
                    if (mediumSrc) {
                        size = el.getAttribute('data-med-size').split('x');
                        item.m = {
                            src: mediumSrc,
                            w: parseInt(size[0], 10),
                            h: parseInt(size[1], 10)
                        };
                    }
                    item.o = {
                        src: item.src,
                        w: item.w,
                        h: item.h
                    };

                    items.push(item);
                }
                return items;
            };
            var closest = function closest(el, fn) {
                return el && (fn(el) ? el : closest(el.parentNode, fn));
            };
            var onThumbnailsClick = function (e) {
                e = e || window.event;
                e.preventDefault ? e.preventDefault() : e.returnValue = false;

                var eTarget = e.target || e.srcElement;

                var clickedListItem = closest(eTarget, function (el) {
                    return el.tagName === 'A';
                });

                if (!clickedListItem) {
                    return;
                }
                var clickedGallery = clickedListItem.parentNode;

                var childNodes = clickedListItem.parentNode.childNodes,
                    numChildNodes = childNodes.length,
                    nodeIndex = 0,
                    index;
                for (var i = 0; i < numChildNodes; i++) {
                    if (childNodes[i].nodeType !== 1) {
                        continue;
                    }
                    if (childNodes[i] === clickedListItem) {
                        index = nodeIndex;
                        break;
                    }
                    nodeIndex++;
                }
                if (index >= 0) {
                    openPhotoSwipe(index, clickedGallery);
                }
                return false;
            };
            var photoswipeParseHash = function () {
                var hash = window.location.hash.substring(1),
                    params = {};

                if (hash.length < 5) {
                    return params;
                }
                var vars = hash.split('&');
                for (var i = 0; i < vars.length; i++) {
                    if (!vars[i]) {
                        continue;
                    }
                    var pair = vars[i].split('=');
                    if (pair.length < 2) {
                        continue;
                    }
                    params[pair[0]] = pair[1];
                }
                if (params.gid) {
                    params.gid = parseInt(params.gid, 10);
                }
                return params;
            };
            var openPhotoSwipe = function (index, galleryElement, disableAnimation, fromURL) {
                var pswpElement = document.querySelectorAll('.pswp')[0],
                    gallery,
                    options,
                    items;

                items = parseThumbnailElements(galleryElement);
                options = {
                    galleryUID: galleryElement.getAttribute('data-pswp-uid'),
                    getThumbBoundsFn: function (index) {
                        var thumbnail = items[index].el.children[0],
                            pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                            rect = thumbnail.getBoundingClientRect();

                        return {
                            x: rect.left,
                            y: rect.top + pageYScroll,
                            w: rect.width
                        };
                    },
                    addCaptionHTMLFn: function (item, captionEl, isFake) {
                        if (!item.title) {
                            captionEl.children[0].innerText = '';
                            return false;
                        }
                        captionEl.children[0].innerHTML = item.title + '<br/><small>Photo: ' + item
                            .author + '</small>';
                        return true;
                    },
                };
                if (fromURL) {
                    if (options.galleryPIDs) {
                        for (var j = 0; j < items.length; j++) {
                            if (items[j].pid == index) {
                                options.index = j;
                                break;
                            }
                        }
                    } else {
                        options.index = parseInt(index, 10) - 1;
                    }
                } else {
                    options.index = parseInt(index, 10);
                }
                if (isNaN(options.index)) {
                    return;
                }
                options.mainClass = 'pswp--minimal--dark';
                options.barsSize = {
                    top: 0,
                    bottom: 0
                };
                options.captionEl = false;
                options.fullscreenEl = false;
                options.shareEl = false;
                options.bgOpacity = 1; //背景（.pswp__bg）不透明度
                options.tapToClose = true;
                options.tapToToggleControls = false;
                options.hideAnimationDuration = 0; //初始缩小过渡持续时间（以毫秒为单位）
                if (disableAnimation) {
                    options.showAnimationDuration = 0; //初始放大过渡持续时间（以毫秒为单位）
                }
                gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);
                var realViewportWidth,
                    useLargeImages = false,
                    firstResize = true,
                    imageSrcWillChange;

                gallery.listen('beforeResize', function () {
                    var dpiRatio = window.devicePixelRatio ? window.devicePixelRatio : 1;
                    dpiRatio = Math.min(dpiRatio, 2.5);
                    realViewportWidth = gallery.viewportSize.x * dpiRatio;
                    if (realViewportWidth >= 1200 || (!gallery.likelyTouchDevice &&
                            realViewportWidth > 800) || screen.width > 1200) {
                        if (!useLargeImages) {
                            useLargeImages = true;
                            imageSrcWillChange = true;
                        }
                    } else {
                        if (useLargeImages) {
                            useLargeImages = false;
                            imageSrcWillChange = true;
                        }
                    }
                    if (imageSrcWillChange && !firstResize) {
                        gallery.invalidateCurrItems();
                    }
                    if (firstResize) {
                        firstResize = false;
                    }
                    imageSrcWillChange = false;
                });
                gallery.listen('gettingData', function (index, item) {
                    if (useLargeImages) {
                        item.src = item.o.src;
                        item.w = item.o.w;
                        item.h = item.o.h;
                    } else {
                        item.src = item.m.src;
                        item.w = item.m.w;
                        item.h = item.m.h;
                    }
                });
                gallery.init();
            };
            var galleryElements = document.querySelectorAll(gallerySelector);
            for (var i = 0, l = galleryElements.length; i < l; i++) {
                galleryElements[i].setAttribute('data-pswp-uid', i + 1);
                galleryElements[i].onclick = onThumbnailsClick;
            }
            var hashData = photoswipeParseHash();
            if (hashData.pid && hashData.gid) {
                openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);
            }
        };

        initPhotoSwipeFromDOM('.demo-gallery');

    })();
</script>

</html>